(window.webpackJsonp=window.webpackJsonp||[]).push([[96,15,49,73,84,125,128],{130:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return l})),n.d(t,"metadata",(function(){return c})),n.d(t,"toc",(function(){return s})),n.d(t,"default",(function(){return i}));var a=n(3),r=n(7),o=(n(0),n(225)),l={},c={unversionedId:"examples/empty_dom_controller.html.haml",id:"examples/empty_dom_controller.html.haml",isDocsHomePage:!1,title:"empty_dom_controller.html.haml",description:"`haml",source:"@site/docs/examples/empty_dom_controller.html.haml.mdx",slug:"/examples/empty_dom_controller.html.haml",permalink:"/stimulus-library/docs/examples/empty_dom_controller.html.haml",version:"current"},s=[],m={toc:s};function i(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},m,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-haml"},'%div{"data-action" => "dom:not-empty->toggle-class#on dom:empty->toggle-class#off", "data-controller" => "toggle-class", "data-toggle-class-class-value" => "hidden"}\n  %h2 Recently completed tasks\n  .hide{"data-toggle-class-target" => "toggle"}\n    %p You haven\'t completed any tasks yet.\n  = turbo_stream_from [current_user, "complete_tasks"]\n  = turbo_frame_tag "complete_tasks", data-controller=\'empty-dom\' } do\n    = render @complete_tasks\n')))}i.isMDXComponent=!0},140:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return l})),n.d(t,"metadata",(function(){return c})),n.d(t,"toc",(function(){return s})),n.d(t,"default",(function(){return i}));var a=n(3),r=n(7),o=(n(0),n(225)),l={},c={unversionedId:"examples/empty_dom_controller.html.erb",id:"examples/empty_dom_controller.html.erb",isDocsHomePage:!1,title:"empty_dom_controller.html.erb",description:"`erb",source:"@site/docs/examples/empty_dom_controller.html.erb.mdx",slug:"/examples/empty_dom_controller.html.erb",permalink:"/stimulus-library/docs/examples/empty_dom_controller.html.erb",version:"current"},s=[],m={toc:s};function i(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},m,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-erb"},'<div\n  data-controller="toggle-class"\n  data-action="dom:not-empty->toggle-class#on dom:empty->toggle-class#off"\n  data-toggle-class-class-value="hidden"\n>\n  <h2>Recently completed tasks</h2>\n  <div class="hide" data-toggle-class-target="toggle">\n    <p> You haven\'t completed any tasks yet.</p>\n  </div>\n  <%= turbo_stream_from [current_user, "complete_tasks"] %>\n  <%= turbo_frame_tag "complete_tasks", data-controller=\'empty-dom\' } do %>\n    <%= render @complete_tasks %>\n  <% end %>\n</div>\n')))}i.isMDXComponent=!0},141:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return l})),n.d(t,"metadata",(function(){return c})),n.d(t,"toc",(function(){return s})),n.d(t,"default",(function(){return i}));var a=n(3),r=n(7),o=(n(0),n(225)),l={},c={unversionedId:"examples/empty_dom_controller_advanced.html.haml",id:"examples/empty_dom_controller_advanced.html.haml",isDocsHomePage:!1,title:"empty_dom_controller_advanced.html.haml",description:"`haml",source:"@site/docs/examples/empty_dom_controller_advanced.html.haml.mdx",slug:"/examples/empty_dom_controller_advanced.html.haml",permalink:"/stimulus-library/docs/examples/empty_dom_controller_advanced.html.haml",version:"current"},s=[],m={toc:s};function i(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},m,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-haml"},'%div{"data-action" => "dom:not-empty->toggle-class#on dom:empty->toggle-class#off", "data-controller" => "toggle-class", "data-toggle-class-class-value" => "hidden"}\n  %h2 Recently completed tasks\n  .hide{"data-toggle-class-target" => "toggle"}\n    %p You haven\'t completed any tasks yet.\n  = turbo_stream_from [current_user, "complete_tasks"]\n  = turbo_frame_tag "complete_tasks", data: { controller: \'empty-dom\', empty_dom: { scope_selector_value: \'task\' } } do\n    %input{type: "hidden", value: "Some other thing that definitely isn\'t a task but will break the count"}/\n    = render @complete_tasks\n')))}i.isMDXComponent=!0},201:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return p})),n.d(t,"metadata",(function(){return b})),n.d(t,"toc",(function(){return u})),n.d(t,"default",(function(){return y}));var a=n(3),r=n(7),o=(n(0),n(225)),l=n(61),c=n(59),s=n(140),m=n(130),i=n(79),d=n(141),p={id:"EmptyDomController",title:"EmptyDomController"},b={unversionedId:"controllers/EmptyDomController",id:"controllers/EmptyDomController",isDocsHomePage:!1,title:"EmptyDomController",description:"Purpose",source:"@site/docs/controllers/empty_dom_controller.mdx",slug:"/controllers/EmptyDomController",permalink:"/stimulus-library/docs/controllers/EmptyDomController",version:"current",sidebar:"someSidebar",previous:{title:"ElementSaveController",permalink:"/stimulus-library/docs/controllers/ElementSaveController"},next:{title:"EnableInputsController",permalink:"/stimulus-library/docs/controllers/EnableInputsController"}};Object(o.b)(l.default,null);var u=[{value:"Purpose",id:"purpose",children:[]},{value:"Actions",id:"actions",children:[]},{value:"Targets",id:"targets",children:[]},{value:"Classes",id:"classes",children:[]},{value:"Values",id:"values",children:[]},{value:"Events",id:"events",children:[]},{value:"Side Effects",id:"side-effects",children:[]},{value:"Simple Case",id:"simple-case",children:[]},{value:"HTML",id:"html",children:[]},{value:"HAML",id:"haml",children:[]},{value:"Advanced Case",id:"advanced-case",children:[]},{value:"HTML/ERB",id:"htmlerb",children:[]},{value:"HAML",id:"haml-1",children:[]}],h={toc:u};function y(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},h,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("h2",{id:"purpose"},"Purpose"),Object(o.b)("p",null,"Mainly for use with TurboStreams or AJAX loaded content that modifies a container interactively. When interactions mutate the DOM and add/remove content, detect when the container you attach the controller to becomes empty/not empty."),Object(o.b)("p",null,"You can then style the controller, or show a nice placeholder when the container is empty, rather than showing empty space."),Object(o.b)("h2",{id:"actions"},Object(o.b)("a",{parentName:"h2",href:"https://stimulus.hotwire.dev/reference/actions"},"Actions")),Object(o.b)("h2",{id:"targets"},Object(o.b)("a",{parentName:"h2",href:"https://stimulus.hotwire.dev/reference/targets"},"Targets")),Object(o.b)(c.default,{mdxType:"NoTargets"}),Object(o.b)("h2",{id:"classes"},Object(o.b)("a",{parentName:"h2",href:"https://stimulus.hotwire.dev/reference/classes"},"Classes")),Object(o.b)("table",null,Object(o.b)("thead",{parentName:"table"},Object(o.b)("tr",{parentName:"thead"},Object(o.b)("th",{parentName:"tr",align:null},"Class"),Object(o.b)("th",{parentName:"tr",align:null},"Purpose"),Object(o.b)("th",{parentName:"tr",align:null},"Default"))),Object(o.b)("tbody",{parentName:"table"},Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",{parentName:"tr",align:null},Object(o.b)("inlineCode",{parentName:"td"},"empty")," (Optional)"),Object(o.b)("td",{parentName:"tr",align:null},"The class to apply to the attached element when it is empty"),Object(o.b)("td",{parentName:"tr",align:null},Object(o.b)("inlineCode",{parentName:"td"},"-"))),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",{parentName:"tr",align:null},Object(o.b)("inlineCode",{parentName:"td"},"notEmpty")," (Optional)"),Object(o.b)("td",{parentName:"tr",align:null},"The class to apply to the attached element when it is ",Object(o.b)("strong",{parentName:"td"},"not")," empty"),Object(o.b)("td",{parentName:"tr",align:null},Object(o.b)("inlineCode",{parentName:"td"},"-"))))),Object(o.b)("h2",{id:"values"},Object(o.b)("a",{parentName:"h2",href:"https://stimulus.hotwire.dev/reference/values"},"Values")),Object(o.b)("table",null,Object(o.b)("thead",{parentName:"table"},Object(o.b)("tr",{parentName:"thead"},Object(o.b)("th",{parentName:"tr",align:null},"Value"),Object(o.b)("th",{parentName:"tr",align:null},"Type"),Object(o.b)("th",{parentName:"tr",align:null},"Description"),Object(o.b)("th",{parentName:"tr",align:null},"Default"))),Object(o.b)("tbody",{parentName:"table"},Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",{parentName:"tr",align:null},Object(o.b)("inlineCode",{parentName:"td"},"scopeSelector")," (Optional)"),Object(o.b)("td",{parentName:"tr",align:null},"String"),Object(o.b)("td",{parentName:"tr",align:null},"A CSS selector to pass to ",Object(o.b)("inlineCode",{parentName:"td"},"querySelectorAll")," to limit what elements are included in the count of empty/not-empty"),Object(o.b)("td",{parentName:"tr",align:null},"All child elements of controller element")))),Object(o.b)("h2",{id:"events"},"Events"),Object(o.b)("table",null,Object(o.b)("thead",{parentName:"table"},Object(o.b)("tr",{parentName:"thead"},Object(o.b)("th",{parentName:"tr",align:null},"Event"),Object(o.b)("th",{parentName:"tr",align:null},"When"),Object(o.b)("th",{parentName:"tr",align:null},"Dispatched on"),Object(o.b)("th",{parentName:"tr",align:null},Object(o.b)("inlineCode",{parentName:"th"},"event.detail")))),Object(o.b)("tbody",{parentName:"table"},Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",{parentName:"tr",align:null},Object(o.b)("inlineCode",{parentName:"td"},"dom:empty")),Object(o.b)("td",{parentName:"tr",align:null},"When the subtree of the attached element becomes empty"),Object(o.b)("td",{parentName:"tr",align:null},"The controller element"),Object(o.b)("td",{parentName:"tr",align:null},"-")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",{parentName:"tr",align:null},Object(o.b)("inlineCode",{parentName:"td"},"dom:not-empty")),Object(o.b)("td",{parentName:"tr",align:null},"When the subtree of the attached element is no longer empty"),Object(o.b)("td",{parentName:"tr",align:null},"The controller element"),Object(o.b)("td",{parentName:"tr",align:null},Object(o.b)("inlineCode",{parentName:"td"},"count")," - The number of matching elements that are now present")))),Object(o.b)("h2",{id:"side-effects"},"Side Effects"),Object(o.b)("p",null,"None"),Object(o.b)("h1",{id:"how-to-use"},"How to Use"),Object(o.b)("h2",{id:"simple-case"},"Simple Case"),Object(o.b)("p",null,"The controller emits an event ",Object(o.b)("inlineCode",{parentName:"p"},"dom:empty")," when the container becomes empty, and ",Object(o.b)("inlineCode",{parentName:"p"},"dom:not-empty")," when it is no longer empty (and for every DOM update that means it is still not empty). Use those events to hook up other Stimulus actions. This particular example toggles the hide/show of a nice status message when the\ncontainer is empty."),Object(o.b)("h2",{id:"html"},"HTML"),Object(o.b)(s.default,{mdxType:"EmptyDomControllerErb"}),Object(o.b)("h2",{id:"haml"},"HAML"),Object(o.b)(m.default,{mdxType:"EmptyDomControllerHaml"}),Object(o.b)("h2",{id:"advanced-case"},"Advanced Case"),Object(o.b)("p",null,"You can scope what the controller watches for inside the container using a CSS selector in the ",Object(o.b)("inlineCode",{parentName:"p"},"data-empty-dom-scope-selector-value")," attribute."),Object(o.b)("p",null,"The selector you specify will be used to ",Object(o.b)("inlineCode",{parentName:"p"},"querySelectorAll")," the children/subtree of the container you attach the controller too, and fire the\n",Object(o.b)("inlineCode",{parentName:"p"},"dom:empty")," and ",Object(o.b)("inlineCode",{parentName:"p"},"dom:not-empty")," events when the results of the query are empty/not empty."),Object(o.b)("h2",{id:"htmlerb"},"HTML/ERB"),Object(o.b)(i.default,{mdxType:"EmptyDomControllerAdvancedHtmlErb"}),Object(o.b)("h2",{id:"haml-1"},"HAML"),Object(o.b)(d.default,{mdxType:"EmptyDomControllerAdvancedHtmlHaml"}))}y.isMDXComponent=!0},225:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return u}));var a=n(0),r=n.n(a);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var m=r.a.createContext({}),i=function(e){var t=r.a.useContext(m),n=t;return e&&(n="function"==typeof e?e(t):c(c({},t),e)),n},d=function(e){var t=i(e.components);return r.a.createElement(m.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},b=r.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,l=e.parentName,m=s(e,["components","mdxType","originalType","parentName"]),d=i(n),b=a,u=d["".concat(l,".").concat(b)]||d[b]||p[b]||o;return n?r.a.createElement(u,c(c({ref:t},m),{},{components:n})):r.a.createElement(u,c({ref:t},m))}));function u(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,l=new Array(o);l[0]=b;var c={};for(var s in t)hasOwnProperty.call(t,s)&&(c[s]=t[s]);c.originalType=e,c.mdxType="string"==typeof e?e:a,l[1]=c;for(var m=2;m<o;m++)l[m]=n[m];return r.a.createElement.apply(null,l)}return r.a.createElement.apply(null,n)}b.displayName="MDXCreateElement"},59:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return l})),n.d(t,"metadata",(function(){return c})),n.d(t,"toc",(function(){return s})),n.d(t,"default",(function(){return i}));var a=n(3),r=n(7),o=(n(0),n(225)),l={},c={unversionedId:"_partials/no-targets",id:"_partials/no-targets",isDocsHomePage:!1,title:"no-targets",description:"| Target | Purpose | Default |",source:"@site/docs/_partials/no-targets.md",slug:"/_partials/no-targets",permalink:"/stimulus-library/docs/_partials/no-targets",version:"current"},s=[],m={toc:s};function i(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},m,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("table",null,Object(o.b)("thead",{parentName:"table"},Object(o.b)("tr",{parentName:"thead"},Object(o.b)("th",{parentName:"tr",align:null},"Target"),Object(o.b)("th",{parentName:"tr",align:null},"Purpose"),Object(o.b)("th",{parentName:"tr",align:null},"Default"))),Object(o.b)("tbody",{parentName:"table"},Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",{parentName:"tr",align:null},Object(o.b)("inlineCode",{parentName:"td"},"-")),Object(o.b)("td",{parentName:"tr",align:null},"-"),Object(o.b)("td",{parentName:"tr",align:null},"-")))))}i.isMDXComponent=!0},61:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return l})),n.d(t,"metadata",(function(){return c})),n.d(t,"toc",(function(){return s})),n.d(t,"default",(function(){return i}));var a=n(3),r=n(7),o=(n(0),n(225)),l={},c={unversionedId:"_partials/no-actions",id:"_partials/no-actions",isDocsHomePage:!1,title:"no-actions",description:"| Action | Purpose |",source:"@site/docs/_partials/no-actions.md",slug:"/_partials/no-actions",permalink:"/stimulus-library/docs/_partials/no-actions",version:"current"},s=[],m={toc:s};function i(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},m,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("table",null,Object(o.b)("thead",{parentName:"table"},Object(o.b)("tr",{parentName:"thead"},Object(o.b)("th",{parentName:"tr",align:null},"Action"),Object(o.b)("th",{parentName:"tr",align:null},"Purpose"))),Object(o.b)("tbody",{parentName:"table"},Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",{parentName:"tr",align:null},Object(o.b)("inlineCode",{parentName:"td"},"-")),Object(o.b)("td",{parentName:"tr",align:null},"-")))))}i.isMDXComponent=!0},79:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return l})),n.d(t,"metadata",(function(){return c})),n.d(t,"toc",(function(){return s})),n.d(t,"default",(function(){return i}));var a=n(3),r=n(7),o=(n(0),n(225)),l={},c={unversionedId:"examples/empty_dom_controller_advanced.html.erb",id:"examples/empty_dom_controller_advanced.html.erb",isDocsHomePage:!1,title:"empty_dom_controller_advanced.html.erb",description:"`erb",source:"@site/docs/examples/empty_dom_controller_advanced.html.erb.mdx",slug:"/examples/empty_dom_controller_advanced.html.erb",permalink:"/stimulus-library/docs/examples/empty_dom_controller_advanced.html.erb",version:"current"},s=[],m={toc:s};function i(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},m,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-erb"},'<div\n  data-controller="toggle-class"\n  data-action="dom:not-empty->toggle-class#on dom:empty->toggle-class#off"\n  data-toggle-class-class-value="hidden"\n>\n  <h2>Recently completed tasks</h2>\n  <div class="hide" data-toggle-class-target="toggle">\n    <p> You haven\'t completed any tasks yet.</p>\n  </div>\n  <%= turbo_stream_from [current_user, "complete_tasks"] %>\n  <%= turbo_frame_tag "complete_tasks", data: { controller: \'empty-dom\', empty_dom: { scope_selector_value: \'task\' } } do %>\n    <input type="hidden" value="Some other thing that definitely isn\'t a task but will break the count">\n    <%= render @complete_tasks %>\n  <% end %>\n</div>\n')))}i.isMDXComponent=!0}}]);